Подключение к сетевому оборудованию через терминальный сервер. Тестировался на сети МТС. Для подключения использовался SecureCRT. Терминальный сервер 10.73.1.3. 

```python
from netmiko import ConnectHandler
from netmiko import redispatch
import time
device = {
    'device_type': 'terminal_server',
    'host': '10.73.1.3',
    'username': 'pvstep13',
    'password': 'J4-vK5gl67nr',
    'port': 22,
    'session_log': 'session.log'
}

net_connect = ConnectHandler(**device)
print("Jump Server Promt:{}".format(net_connect.find_prompt()))
print("\n\n")


net_connect.write_channel("ssh localuser@10.16.0.20\n")
time.sleep(3)
output = net_connect.read_channel()

if 'Password:' in output:
    net_connect.write_channel('Transiver8754\n')

print("Router Promt:{}".format(net_connect.find_prompt()))
redispatch(net_connect, device_type = 'cisco_ios')
new_output = net_connect.send_command("sh time")
print(new_output)
```


Также использовались статьи [Автоматизация сетевого оборудования на Python. Работа через jump-host / Хабр](https://habr.com/ru/companies/rostelecom/articles/823282/)

________________________________________________________________________
Paths: [[Scripts]]
Tags: #Scripts   

